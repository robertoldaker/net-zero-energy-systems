<div style="overflow: auto; height: calc(100vh - 170px)">

<table style="width: 100%;" #table mat-table [dataSource]="nodes" [trackBy]="getNodeId" matSort >

    <!-- Code Column -->
    <ng-container matColumnDef="code">
      <th mat-header-cell *matHeaderCellDef mat-sort-header >Node</th>
      <td mat-cell *matCellDef="let element">
        <div>{{element.obj.code}}</div>
        <div *ngIf="element.obj.name" class="nodeName">({{element.obj.name}})</div>
      </td>
    </ng-container>

    <!-- Zone Column -->
    <ng-container matColumnDef="zone">
      <th mat-header-cell *matHeaderCellDef mat-sort-header >Zone</th>
      <td mat-cell *matCellDef="let element">{{element.obj.zone.code}}</td>
    </ng-container>

    <!-- Demand Column -->
    <ng-container matColumnDef="demand">
      <th mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before">Demand</th>
      <td mat-cell *matCellDef="let element">{{element.obj.demand.toFixed(0)}}</td>
    </ng-container>

    <!-- Generation Column -->
    <ng-container matColumnDef="generation">
        <th mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before">Generation</th>
        <td mat-cell *matCellDef="let element">{{element.obj.generation.toFixed(0)}}</td>
    </ng-container>

    <!-- Ext Column -->
    <ng-container matColumnDef="ext">
        <th mat-header-cell *matHeaderCellDef mat-sort-header >Ext</th>
        <td mat-cell *matCellDef="let element">{{element.obj.ext}}</td>
    </ng-container>

    <!-- Mismatch  Column -->
    <ng-container matColumnDef="mismatch">
        <th mat-header-cell *matHeaderCellDef  mat-sort-header arrowPosition="before">Mismatch</th>
        <td mat-cell *matCellDef="let element">{{element.mismatch?.toExponential(3)}}</td>
    </ng-container>
    
    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>            
</div>
