<div #divContainer style="height: calc(100vh - 72px)" >
    <google-map width="100%" height="100%" [center]="center" [options]="options" (zoomChanged)="zoomChanged()" [zoom]="zoom" (centerChanged)="centerChanged()" (mapClick)="mapClick($event)">
        <div #key>
            <app-loadflow-map-key></app-loadflow-map-key>
        </div>
        <div #buttons>
            <app-loadflow-map-buttons (onAddLocation)="addLocation($event)"></app-loadflow-map-buttons>
            <app-loadflow-map-search></app-loadflow-map-search>
        </div>

        <map-advanced-marker #locMarkers *ngFor="let markerOption of locMarkerOptions.getArray();" [options]="markerOption.options" (mapClick)="locMarkerClicked(markerOption)" (mapDragend)="locMarkerDragEnd({ mo: markerOption, e: $event} )"></map-advanced-marker>
        <map-polyline #linkLines *ngFor="let linkOption of linkOptions.getArray(); trackBy: polylineTrackByFcn" [options]="linkOption.options" (polylineClick)="linkLineClicked(linkOption.id)"></map-polyline>

        <map-info-window #locInfoWindow  (closeclick)="clearSelection()">
            <app-loadflow-loc-info-window (onNewBranch)="newBranch($event)"></app-loadflow-loc-info-window>
        </map-info-window>
        <map-info-window #linkInfoWindow (closeclick)="clearSelection()">
            <app-loadflow-branch-info-window></app-loadflow-branch-info-window>
        </map-info-window>
        <map-marker #dummyMarker [options]="dummyMarkerOptions"></map-marker>
        
    </google-map>
    
</div>
